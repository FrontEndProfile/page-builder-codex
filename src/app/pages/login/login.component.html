<div class="login app-page">
  <div class="loading-overlay" *ngIf="loading">
    <div class="loading-card">
      <div class="spinner"></div>
      <p>{{ loadingMessage }}</p>
    </div>
  </div>
  <div class="login__card">
    <h1>Sign in</h1>
    <p>Use your email and password to access the builder.</p>

    <div class="field">
      <label>Email</label>
      <div class="input-field" [class.field--error]="emailError">
        <input
          [(ngModel)]="email"
          (ngModelChange)="onEmailChange($event)"
          [class.input-error]="emailError"
          type="email"
          placeholder="you@example.com"
        />
        <p class="input-error__text" *ngIf="emailError">{{ emailError }}</p>
      </div>
    </div>
    <div class="field">
      <label>Password</label>
      <div class="input-field" [class.field--error]="passwordError">
        <input
          [(ngModel)]="password"
          (ngModelChange)="onPasswordChange($event)"
          [class.input-error]="passwordError"
          type="password"
          placeholder="••••••••"
        />
        <p class="input-error__text" *ngIf="passwordError">{{ passwordError }}</p>
      </div>
    </div>

    <div class="actions">
      <button type="button" (click)="login()" [disabled]="loading">Login</button>
      <button type="button" class="ghost" (click)="goRegister()" [disabled]="loading">Register</button>
    </div>

    <button type="button" class="link" (click)="logout()">Logout</button>
  </div>
</div>
